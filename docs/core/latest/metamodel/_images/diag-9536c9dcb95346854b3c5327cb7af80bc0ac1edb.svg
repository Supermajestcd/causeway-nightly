<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="688px" preserveAspectRatio="none" style="width:852px;height:688px;background:#FFFFFF;" version="1.1" viewBox="0 0 852 688" width="852px" zoomAndPan="magnify"><defs/><g><g id="elem_DS"><ellipse cx="79.9105" cy="71.5473" fill="#F1F1F1" rx="48.9619" ry="26.0473" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="53.4105" y="66.2455">Domain</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="54.9105" y="82.5424">Service</text></g><g id="elem_DO"><ellipse cx="197.9105" cy="71.5473" fill="#F1F1F1" rx="48.9619" ry="26.0473" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="171.4105" y="66.2455">Domain</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="175.4105" y="82.5424">Object</text></g><g id="elem_DE"><ellipse cx="315.9105" cy="71.5473" fill="#F1F1F1" rx="48.9619" ry="26.0473" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="53" x="289.4105" y="66.2455">Domain</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="40" x="295.9105" y="82.5424">Event</text></g><g id="elem_P"><ellipse cx="337.7957" cy="487.7215" fill="#F1F1F1" rx="53.3472" ry="14.7215" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="305.7957" y="491.469">Property</text></g><g id="elem_A"><ellipse cx="80.1016" cy="487.6013" fill="#F1F1F1" rx="42.1531" ry="14.6013" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="55.6016" y="491.3489">Action</text></g><g id="elem_C"><ellipse cx="202.7615" cy="487.2771" fill="#F1F1F1" rx="60.813" ry="14.7771" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="165.7615" y="491.0247">Collection</text></g><g id="elem_MB"><ellipse cx="291.0493" cy="279.715" fill="#F1F1F1" rx="52.6007" ry="14.715" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="57" x="259.5493" y="283.4626">Member</text></g><g id="elem_EX"><ellipse cx="121.7615" cy="655.7771" fill="#F1F1F1" rx="60.813" ry="14.7771" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="84.7615" y="659.5247">Execution</text></g><g id="elem_EB"><ellipse cx="474.011" cy="656.0473" fill="#F1F1F1" rx="39.0624" ry="26.0473" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="454.511" y="650.7455">Event</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="460.511" y="667.0424">Bus</text></g><g id="elem_SPRING"><ellipse cx="637.8476" cy="656.1113" fill="#F1F1F1" rx="42.8991" ry="14.6113" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="612.8476" y="659.8588">Spring</text></g><g id="elem_EL"><ellipse cx="473.8247" cy="487.5473" fill="#F1F1F1" rx="50.3762" ry="26.0473" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="454.3247" y="482.2455">Event</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="446.3247" y="498.5424">Listener</text></g><g id="elem_GMN34"><path d="M396.9485,6 L396.9485,67.5 L365.1685,71.5 L396.9485,75.5 L396.9485,137.0625 A0,0 0 0 0 396.9485,137.0625 L684.9485,137.0625 A0,0 0 0 0 684.9485,137.0625 L684.9485,16 L674.9485,6 L396.9485,6 A0,0 0 0 0 396.9485,6 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M674.9485,6 L674.9485,16 L684.9485,16 L674.9485,6 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="402.9485" y="23.0669">Phases are:</text><ellipse cx="408.4485" cy="33.7656" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="414.9485" y="38.1997">HIDING</text><ellipse cx="408.4485" cy="48.8984" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="414.9485" y="53.3325">DISABLING</text><ellipse cx="408.4485" cy="64.0313" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="414.9485" y="68.4653">VALIDATING</text><ellipse cx="408.4485" cy="79.1641" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="414.9485" y="83.5981">EXECUTING</text><ellipse cx="408.4485" cy="94.2969" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="414.9485" y="98.731">EXECUTED</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="402.9485" y="113.8638">The framework automatically sends out</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267" x="402.9485" y="128.9966">events with the phases in the order listed.</text></g><g id="elem_GMN37"><path d="M363.9485,244 L363.9485,275.5 L343.5285,279.5 L363.9485,283.5 L363.9485,314.5313 A0,0 0 0 0 363.9485,314.5313 L775.9485,314.5313 A0,0 0 0 0 775.9485,314.5313 L775.9485,254 L765.9485,244 L363.9485,244 A0,0 0 0 0 363.9485,244 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M765.9485,244 L765.9485,254 L775.9485,254 L765.9485,244 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="87" x="369.9485" y="261.0669">DomainEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="460.9485" y="261.0669">is declared as an</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="349" x="369.9485" y="276.1997">annotation type element in a member annotation, e.g.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="65" x="369.9485" y="291.3325">@Action(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="369.9485" y="306.4653">        </text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="107" x="401.9485" y="306.4653">domainEvent=</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="56" x="508.9485" y="306.4653">Custom</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="196" x="564.9485" y="306.4653">ActionDomainEvent.class).</text></g><g id="elem_GMN40"><path d="M544.4485,437 L544.4485,483.5 L524.4485,487.5 L544.4485,491.5 L544.4485,537.7969 A0,0 0 0 0 544.4485,537.7969 L845.4485,537.7969 A0,0 0 0 0 845.4485,537.7969 L845.4485,447 L835.4485,437 L544.4485,437 A0,0 0 0 0 544.4485,437 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M835.4485,437 L835.4485,447 L845.4485,447 L835.4485,437 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="550.4485" y="454.0669">EventListeners can be declared on</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="550.4485" y="469.1997">any public Spring bean method, e.g.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="119" x="550.4485" y="484.3325">@EventListener(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="550.4485" y="499.4653">       </text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="56" x="578.4485" y="499.4653">Custom</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="196" x="634.4485" y="499.4653">ActionDomainEvent.class).</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="550.4485" y="514.5981">Via</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="87" x="574.4485" y="514.5981">DomainEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="661.4485" y="514.5981">.getEventPhase(),</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="550.4485" y="529.731">further filtering can be applied.</text></g><!--MD5=[fb03951c8977dbddaa66e08e228ad265]
reverse link MB to P--><g id="link_MB_P"><path d="M295.2085,299.19 C304.5585,340.17 326.6885,437.16 334.8485,472.93 " fill="none" id="MB-backto-P" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="294.0285,294.02,292.136,303.6853,295.1434,298.8941,299.9346,301.9015,294.0285,294.02" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="318.9485" y="380.5669">is a</text></g><!--MD5=[cd1d3de32c1164f3c6ee0cef5a2657ee]
reverse link MB to A--><g id="link_MB_A"><path d="M269.1285,296.41 C252.3885,308.97 228.9885,327.26 209.9485,345 C162.5985,389.12 112.3585,447.63 90.7985,473.38 " fill="none" id="MB-backto-A" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="273.2385,293.35,263.6298,295.5116,269.2266,296.334,268.4042,301.9307,273.2385,293.35" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="210.9485" y="380.5669">is a</text></g><!--MD5=[7836793742dd9c4d9c92c79c1667668d]
reverse link MB to C--><g id="link_MB_C"><path d="M283.1885,298.66 C265.8985,339.14 224.5085,436.03 208.9785,472.39 " fill="none" id="MB-backto-C" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="285.1785,294.02,277.9743,300.7356,283.221,298.6209,285.3357,303.8676,285.1785,294.02" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="262.9485" y="380.5669">is a</text></g><!--MD5=[df3a0e21e14f1405aaf1784f1a6661b8]
link DO to MB--><g id="link_DO_MB"><path d="M208.9785,96.94 C227.8585,138.76 265.9485,223.12 282.7085,260.25 " fill="none" id="DO-to-MB" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="284.8385,264.96,284.7814,255.1113,282.7813,260.4028,277.4899,258.4028,284.8385,264.96" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="260.9485" y="195.0669">has</text></g><!--MD5=[4e12fd745e74cc9b0d722ea0b806bab5]
link DS to A--><g id="link_DS_A"><path d="M79.9485,97.77 C79.9485,173.93 79.9485,400.09 79.9485,467.4 " fill="none" id="DS-to-A" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="79.9485,472.69,83.9485,463.69,79.9485,467.69,75.9485,463.69,79.9485,472.69" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="80.9485" y="284.0669">has</text></g><!--MD5=[1d4d7a2e5769d44dbec019ded056495f]
link DE to MB--><g id="link_DE_MB"><path d="M312.8785,97.76 C307.8085,139.54 297.7885,222.12 293.2685,259.42 " fill="none" id="DE-to-MB" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="292.6385,264.58,297.6881,256.1241,293.2376,259.616,289.7457,255.1656,292.6385,264.58" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="312.9485" y="180.0669">can be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="308.9485" y="195.1997">declared</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="329.9485" y="210.3325">for</text></g><!--MD5=[061d9fccd4a9679de610285cc61e2d11]
link P to EX--><g id="link_P_EX"><path d="M321.3785,501.33 C308.4685,511.33 290.0785,525.56 273.9485,538 C227.7085,573.68 173.4885,615.38 143.9185,638.11 " fill="none" id="P-to-EX" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="139.7385,641.32,149.3061,638.9831,143.6953,638.2632,144.4152,632.6523,139.7385,641.32" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="279.7268" y="522.5582">edit</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="280.7268" y="537.691">is an</text></g><!--MD5=[88472934444b84813f245e1565c0fd1a]
link A to EX--><g id="link_A_EX"><path d="M83.3885,502.13 C90.8285,531.61 108.4385,601.44 117.0485,635.56 " fill="none" id="A-to-EX" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="118.3485,640.71,120.0395,631.0074,117.1325,635.8601,112.2797,632.9531,118.3485,640.71" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="6" y="522.1684">invocation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="27.5" y="537.3012">is an</text></g><!--MD5=[d1eae5240a55dd7693df787515d81648]
reverse link EB to SPRING--><g id="link_EB_SPRING"><path d="M518.5085,656 C542.1885,656 571.1785,656 594.6685,656 " fill="none" id="EB-backto-SPRING" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="513.2285,656,522.2285,660,518.2285,656,522.2285,652,513.2285,656" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="524.9485" y="634.0669">provides/</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="523.9485" y="649.1997">manages</text></g><!--MD5=[19ab7e649af6a347914fa4c2e1be88bb]
link EX to EB--><g id="link_EX_EB"><path d="M183.2585,656 C253.6685,656 367.4485,656 429.7285,656 " fill="none" id="EX-to-EB" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="434.8585,656,425.8585,652,429.8585,656,425.8585,660,434.8585,656" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="257.9485" y="619.0669">is published as:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="197.9485" y="634.1997">* before event (phase: EXECUTING)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="205.9485" y="649.3325">* after event (phase: EXECUTED)</text></g><!--MD5=[ac395a5f0af45a9274ed645000c8d5e4]
link EL to EB--><g id="link_EL_EB"><path d="M473.9485,513.79 C473.9485,543.46 473.9485,592.62 473.9485,624.41 " fill="none" id="EL-to-EB" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="473.9485,629.75,477.9485,620.75,473.9485,624.75,469.9485,620.75,473.9485,629.75" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="474.9485" y="581.0669">listens</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="491.4485" y="596.1997">on</text></g><!--MD5=[e044adf70e4cfd9f3cf19b305f37cff4]
reverse link MB to EL--><g id="link_MB_EL"><path d="M306.0685,297.52 C338.8285,334.4 416.3585,421.68 453.4685,463.45 " fill="none" id="MB-backto-EL" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="302.6785,293.7,305.6682,303.0841,306.0003,297.437,311.6474,297.7692,302.6785,293.7" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="398.9485" y="358.0669">can check/modify:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="409.4485" y="373.1997">visibility (hide),</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="398.9485" y="388.3325">usability (disable),</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="404.4485" y="403.4653">validity (validate)</text></g><!--MD5=[5649933a29ac603b8339c975aeae35b2]
@startuml
skinparam nodesep 20

together {
    (Domain\nService) as DS
    (Domain\nObject) as DO
    (<i>Domain\n<i>Event) as DE
}
(<i>Member</i>) as MB
together {
    (Property) as P
    (Action) as A
    (Collection) as C
}
P -u-> MB : is a
A -u-> MB : is a
C -u-> MB : is a

DO -d-> MB : has
DS -d- -> A : has

DE -d-> MB : can be \n declared \n for

(Execution) as EX
P "edit \n is an"- ->  EX
A "invocation \n is an"- -> EX

(Event\nBus) as EB
(Spring) as SPRING
SPRING .l.> EB : provides/\nmanages
EX -> EB : is published as: \n * before event (phase: EXECUTING)\n * after event (phase: EXECUTED)

(Event\nListener) as EL
EL - -> EB : listens \n on
EL -u-> MB : can check/modify: \nvisibility (hide), \nusability (disable), \nvalidity (validate)

note right of DE
Phases are:
* HIDING
* DISABLING
* VALIDATING
* EXECUTING
* EXECUTED
The framework automatically sends out
events with the phases in the order listed.
end note

note right of MB
<i>DomainEvent</i> is declared as an
annotation type element in a member annotation, e.g.
<b>@Action(
        <b>domainEvent=<i>Custom</i>ActionDomainEvent.class).
end note

note right of EL
EventListeners can be declared on
any public Spring bean method, e.g.
<b>@EventListener(
       <b><i>Custom</i>ActionDomainEvent.class).
Via <i>DomainEvent</i>.getEventPhase(),
further filtering can be applied.
end note
@enduml

PlantUML version 1.2022.12(Sun Oct 23 18:12:26 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>